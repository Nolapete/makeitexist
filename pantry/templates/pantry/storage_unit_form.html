<!-- templates/pantry/storage_unit_form.html -->
{% extends "base.html" %}
{% block title %}{{ title }}{% endblock %}
{% block content %}
    <h2>{{ title }}</h2>
    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-{{ message.tags|default:"info" }} alert-dismissible fade show"
                 role="alert">
                {{ message }}
                <button type="button"
                        class="btn-close"
                        data-bs-dismiss="alert"
                        aria-label="Close"></button>
            </div>
        {% endfor %}
    {% endif %}
    <form method="post">
        {% csrf_token %}
        <!-- Name Field -->
        <div class="mb-3">
            <label for="{{ form.name.id_for_label }}" class="form-label">Name *</label>
            {{ form.name }}
            {% if form.name.errors %}<div class="text-danger">{{ form.name.errors }}</div>{% endif %}
            <div class="form-text">e.g., "Kitchen Pantry", "Garage Freezer"</div>
        </div>
        <!-- Unit Type Field -->
        <div class="mb-3">
            <label for="{{ form.unit_type.id_for_label }}" class="form-label">Type *</label>
            <select class="form-select"
                    name="unit_type"
                    id="{{ form.unit_type.id_for_label }}"
                    required>
                <option value=""
                        disabled
                        {% if not form.unit_type.value %}selected{% endif %}>Choose a type...</option>
                <option value="freezer"
                        {% if form.unit_type.value == "freezer" %}selected{% endif %}>â„ï¸ Freezer</option>
                <option value="refrigerator"
                        {% if form.unit_type.value == "refrigerator" %}selected{% endif %}>ğŸ§Š Refrigerator</option>
                <option value="pantry"
                        {% if form.unit_type.value == "pantry" %}selected{% endif %}>ğŸ Pantry</option>
                <option value="cabinet"
                        {% if form.unit_type.value == "cabinet" %}selected{% endif %}>ğŸ› Cabinet</option>
                <option value="closet"
                        {% if form.unit_type.value == "closet" %}selected{% endif %}>ğŸ—„ï¸ Closet</option>
            </select>
            {% if form.unit_type.errors %}<div class="text-danger">{{ form.unit_type.errors }}</div>{% endif %}
        </div>
        <!-- Temperature Field -->
        <div class="mb-3">
            <label for="{{ form.temperature.id_for_label }}" class="form-label">Temperature (Â°C)</label>
            {{ form.temperature }}
            {% if form.temperature.errors %}<div class="text-danger">{{ form.temperature.errors }}</div>{% endif %}
            <div class="form-text">Leave blank if not applicable (e.g., pantry, cabinet).</div>
        </div>
        <!-- Notes Field -->
        <div class="mb-3">
            <label for="{{ form.notes.id_for_label }}" class="form-label">Notes</label>
            {{ form.notes }}
            {% if form.notes.errors %}<div class="text-danger">{{ form.notes.errors }}</div>{% endif %}
            <div class="form-text">Optional: location tips, humidity, etc.</div>
        </div>
        <!-- Submit Buttons -->
        <div class="mb-3">
            <button type="submit" class="btn btn-primary">Save Unit</button>
            <a href="{% url 'pantry:location_detail' unit.location.pk %}"
               class="btn btn-secondary">Cancel</a>
        </div>
    </form>
{% endblock %}
