<!-- templates/pantry/stock_confirm_delete.html -->
{% extends "base.html" %}

{% block title %}Delete Stock: {{ stock.item.name }}{% endblock %}

{% block content %}
<h2>🗑️ Delete Stock</h2>

<div class="alert alert-warning">
  <h5>Confirm Deletion</h5>
  <p>
    Are you sure you want to delete this stock entry?
  </p>
</div>

<div class="card mb-4">
  <div class="card-body">
    <h5 class="card-title text-danger">{{ stock.item.name }}</h5>
    <table class="table table-borderless">
      <tr>
        <th>Quantity:</th>
        <td>{{ stock.quantity }}</td>
      </tr>
      <tr>
        <th>Storage Unit:</th>
        <td>
          {% if stock.storage_unit.unit_type == 'freezer' %} ❄️
          {% elif stock.storage_unit.unit_type == 'refrigerator' %} 🧊
          {% elif stock.storage_unit.unit_type == 'pantry' %} 🍞
          {% elif stock.storage_unit.unit_type == 'cabinet' %} 🛞
          {% elif stock.storage_unit.unit_type == 'closet' %} 🗄️
          {% endif %}
          <strong>{{ stock.storage_unit.name }}</strong>
          ({{ stock.storage_unit.get_unit_type_display }})
        </td>
      </tr>
      <tr>
        <th>Location:</th>
        <td>{{ stock.storage_unit.location.name }}</td>
      </tr>
      <tr>
        <th>Expiry Date:</th>
        <td>{{ stock.expiry_date|default:"Not set" }}</td>
      </tr>
    </table>
  </div>
</div>

<p class="text-danger">
  <strong>This action cannot be undone.</strong> The stock will be permanently removed.
</p>

<form method="post">
  {% csrf_token %}
  <button type="submit" class="btn btn-danger">Yes, Delete Stock</button>
  <a href="{% url 'pantry:storage_unit_detail' stock.storage_unit.pk %}" class="btn btn-secondary">Cancel</a>
</form>

<hr class="my-4">

<!-- Link Back -->
<div>
  <a href="{% url 'pantry:storage_unit_detail' stock.storage_unit.pk %}" class="text-decoration-none">
    ← Back to {{ stock.storage_unit.name }}
  </a>
</div>

{% endblock %}   