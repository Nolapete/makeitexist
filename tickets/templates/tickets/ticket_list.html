{% load static %}
<script src="https://unpkg.com/htmx.org@1.9.10"></script>

<h1>Your Tickets</h1>
<a href="{% url 'create_ticket' %}" class="btn btn-primary mb-3">Create New Ticket</a>

<div class="mb-3">
    <label for="status-filter" class="form-label">Filter by Status:</label>
    <select id="status-filter" class="form-select" 
            hx-get="{% url 'ticket_list' %}" 
            hx-target="#ticket-container" 
            hx-trigger="change"
            name="status">
        {% for value, label in status_choices %}
            <option value="{{ value }}" {% if value == current_status %}selected{% endif %}>{{ label }}</option>
        {% endfor %}
    </select>
</div>

<div id="ticket-container">
    {% include 'tickets/ticket_list_partial.html' %}
</div>
